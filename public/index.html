<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MEAN Stack CRM App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./libs/bootstrap/dist/css/bootstrap.min.css">

    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="./libs/font-awesome/css/font-awesome.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/style.css">

  </head>
  <body ng-app="crm_app">

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span><i class="fa fa-bars fa-fw" aria-hidden="true"></i> Menu</span>
          </button>
          <a class="navbar-brand" ui-sref="home">My CRM </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a ui-sref="users" ng-show="authToken" ng-cloak>Users</a></li>
            <li><a ui-sref="accounts" ng-show="authToken" ng-cloak>Accounts</a></li>
            <li><a ui-sref="contacts" ng-show="authToken" ng-cloak>Contacts</a></li>
            <li><a ui-sref="calls" ng-show="authToken" ng-cloak>Calls</a></li>
            <li><a ui-sref="meetings" ng-show="authToken" ng-cloak>Meetings</a></li>
            <li><a ui-sref="register" ng-hide="authToken" ng-cloak>Register</a></li>
            <li><a ui-sref="login" ng-hide="authToken" ng-cloak>Login</a></li>
            <li ng-show="authToken" class="dropdown" ng-cloak>
              <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                <img ng-show="logged_user.profileimage" class="avatar-image" ng-src="./uploads/{{ logged_user.profileimage }}">
                <img ng-show="logged_user && !logged_user.profileimage" class="avatar-image" ng-src="./uploads/default-avatar.png">
                &nbsp; {{ logged_user.first_name }} {{ logged_user.last_name }} <span class="caret"></span></a>
              <ul class="dropdown-menu" ng-cloak>
                <li>
                  <a ui-sref="view_user({userID: logged_user._id})">
                    <i class="fa fa-user fa-fw" aria-hidden="true"></i> View Profile
                  </a>
                </li>
                <li>
                  <a ui-sref="edit_user({userID: logged_user._id})">
                    <i class="fa fa-pencil-square-o fa-fw" aria-hidden="true"></i> Edit Profile
                  </a>
                </li>
                <li role="separator" class="divider"></li>
                <li>
                  <a ng-click="logout()" ng-show="authToken" id="logout">
                    <i class="fa fa-sign-out fa-fw" aria-hidden="true"></i>
                    Logout
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <!-- <div class="container"> -->
    <!-- <h5>rootScope cookie: {{CRM_FactoryCookieData}}</h5> -->
      <ui-view></ui-view>
    <!-- </div> -->


    <footer>
      <div class="container">
        <p>MyCRM Copyright &copy; 2017, All Rights Reserved</p>
      </div>
    </footer>


    <!-- Angular JS, etc. -->
    <script type="text/javascript" src="./libs/angular/angular.js"></script>
    <!-- These are not currently working. Have linked them using a CDN -->
    <!-- <script type="text/javascript" scr="./libs/angular-bootstrap/ui-bootstrap.js"></script> -->
    <script type="text/javascript" src="./libs/angular-touch/angular-touch.min.js"></script>
    <script type="text/javascript" src="./libs/angular-animate/angular-animate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.3.2/ui-bootstrap.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.0/angular-touch.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.0/angular-animate.min.js"></script> -->
    <script type="text/javascript" src="./libs/angular-ui-router/release/angular-ui-router.js"></script>
    <script type="text/javascript" src="./libs/angular-cookies/angular-cookies.js"></script>
    <script type="text/javascript" src="./libs/angular-file-upload/dist/angular-file-upload.min.js"></script>

    <!-- jQuery JS -->
    <script type="text/javascript" src="./libs/jquery/dist/jquery.js"></script>

    <!-- Bootstrap JS -->
    <script type="text/javascript" src="/libs/bootstrap/dist/js/bootstrap.js"></script>

    <!-- Custom JS -->
    <script type="text/javascript" src="./js/frontend.js"></script>
  </body>
</html>
